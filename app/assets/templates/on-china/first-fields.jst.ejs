<% var idealSalary = user.commonApp().escape('ideal_salary') %>

<div class="form-group has-feedback <%= idealSalary ? 'has-success' : null %>">
  <label for="ideal_salary">Ideal Salary</label>
  <select id="ideal_salary" name="ideal_salary" class="common-app-field form-control chosen-select"> 
    <% _.each(Atlas.salaryOptions, function(salary){ %>
      <option value="<%= salary %>" <%= idealSalary === salary ? 'selected' : null %> ><%= salary %> Yuan / Month</option>
    <% }) %>
  </select>
  <span class="glyphicon glyphicon-ok form-control-feedback <%= idealSalary ? null : 'no-show' %>"></span>
</div>


<% var cityIds = user.commonApp().get('city_ids') %>
<div class="form-group has-feedback <%= cityIds.length > 0 ? 'has-success' : null %>">
  <label for="cities">Preferred Cities</label>
  <select id="cities" name="city_ids" class="common-app-field form-control chosen-select" multiple> 
    <% _.each(Atlas.cities, function(city){ %>
      <% debugger %>
      <option value="<%= city.id %>" <%= _.contains(cityIds, city.id) ? 'selected' : null %> ><%= city.name %></option>
    <% }) %>
  </select>

  <span class="glyphicon glyphicon-ok form-control-feedback <%= cityIds.length > 0 ? null : 'no-show' %>"></span>
</div>

<% var industryIds = user.commonApp().get('industry_ids') %>
<div class="form-group has-feedback <%= industryIds.length > 0 ? 'has-success' : null %>">
  <label for="industries">Preferred Industries</label>
  <select id="industries" name="industry_ids" class="common-app-field form-control chosen-select" multiple> 
    <% _.each(Atlas.industries, function(industry){ %>
      <option value="<%= industry.id %>" <%= _.contains(industryIds, industry.id) ? 'selected' : null %> ><%= industry.name %></option>
    <% }) %>
  </select>
  
  <span class="glyphicon glyphicon-ok form-control-feedback <%= industryIds.length > 0 ? null : 'no-show' %>"></span>
</div>
